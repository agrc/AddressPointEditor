//>>built
define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/Evented","dojo/on","dojo/has","esri/kernel"],function(k,h,j,l){return k([l],{declaredClass:"esri.Evented",registerConnectEvents:function(){var d=this.constructor,b=this.constructor._meta.parents,c=[{}],e={},a,f,g=function(a,b){h.isArray(a)||(a=[a]);for(var c=0;c<a.length;c++){var d=a[c];d._meta&&d._meta.parents&&g(d._meta.parents,b);d.prototype._eventMap&&b.push(h.mixin({},d.prototype._eventMap))}return b};if(!d._onMap){g(b,c);c.push(this._eventMap);
b=h.mixin.apply(this,c);for(a in this)/^on\w/.test(a)&&h.isFunction(this[a])&&(c=this._hyphenLower(a).toLowerCase(),b[c]||(e[c]={method:a}));for(f in b)a=this._onCamelCase(f),e[f]={method:a,argKeys:b[f]};d._onMap=e;return d._onMap}},on:function(d,b){var c=this.constructor._onMap||this.registerConnectEvents(),e="string"==typeof d&&d.toLowerCase(),a=this._onCamelCase(e),f=c&&c[e];return(a=f&&f.method||this[a]&&h.isFunction(this[a])&&a)?f&&h.isArray(f.argKeys)?(c=this._onArr2Obj(b,c[e].argKeys),j.after(this,
a,c,!0)):j.after(this,a,b,!0):this.inherited(arguments)},emit:function(d,b){var c,e,a,f,g=d.toLowerCase();a=this._onCamelCase(d);var i=this.constructor._onMap||this.registerConnectEvents();f=(a=i&&i[g]&&i[g].method||h.isFunction(this[a])&&a)&&this[a];a&&i&&i[g]&&this._onObj2Arr(function(){e=Array.prototype.slice.call(arguments)},i[g].argKeys)(b);b=b||{};if(!b.target)b.target=this;f&&(c=f.apply(this,e||[b]));this.inherited(arguments);return c},_onObj2Arr:function(d,b){if(b){var c=this;return function(e){var a,
f=[],g=b.length;for(a=0;a<g;a++)f[a]=e[b[a]];d.apply(c,f)}}return d},_onArr2Obj:function(d,b){if(b){var c=this;return function(){var e,a={},f=arguments.length;for(e=0;e<f;e++)a[b[e]]=arguments[e];if(!a.target)a.target=c;d(a)}}return d},_hyphenLower:function(d){return d.replace(/^on/,"").replace(/[A-Z](?=[a-z])/g,function(b,c){return(c?"-":"")+b.toLowerCase()})},_onCamelCase:function(d){return"on"+d.substr(0,1).toUpperCase()+d.substr(1).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()})}})});