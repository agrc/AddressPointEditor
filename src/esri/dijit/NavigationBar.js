//>>built
define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojo/_base/array","dojo/_base/kernel","dojo/has","dojo/query","dojo/dom","dojo/dom-class","dojo/dom-construct","esri/dijit/_TouchBase","esri/kernel"],function(k,o,i,l,j,p,q,m,g,d,n){return k(null,{declaredClass:"esri.dijit.NavigationBar",_items:[],constructor:function(b,a){var c;this.container=m.byId(a);this._touchBase=n(this.container,null);this._slideDiv=d.create("div",{},this.container,"first");this.events=[i.connect(this._touchBase,"onclick",
this,this._onClickHandler)];this._items=b.items;g.add(this.container,"esriMobileNavigationBar");var h=d.create("div",{},this._slideDiv);for(c=0;c<this._items.length;c++){var e,f;switch(this._items[c].type){case "img":f=d.create("div",{"class":"esriMobileNavigationItem"},h);e=d.create("img",{src:this._items[c].src.toString(),style:{width:"100%",height:"100%"}},f);break;case "span":f=d.create("div",{"class":"esriMobileNavigationItem"},h);e=d.create("span",{innerHTML:this._items[c].text},f);break;case "div":f=
d.create("div",{"class":"esriMobileNavigationInfoPanel"},h),e=d.create("div",{innerHTML:this._items[c].text},f)}g.add(f,this._items[c].position);this._items[c].className&&g.add(e,this._items[c].className);e._index=c;e._item=this._items[c];this._items[c]._node=e}},startup:function(){this.onCreate(this._items)},destroy:function(){l.forEach(this.events,i.disconnect);this._touchBase=null;j.query("img",this.container).forEach(function(b){b._index=null;b._item=null;d.destroy(b)});this._items=null;d.destroy(this._slideDiv);
d.destroy(this.container);this.container=this._slideDiv=null},getItems:function(){return this._items},select:function(b){this._markSelected(b._node,b)},onSelect:function(){},onUnSelect:function(){},onCreate:function(){},_onClickHandler:function(b){if("img"===b.target.tagName.toLowerCase()){var a=b.target,c=a._item;j.query("img",this.container).forEach(function(b){b!==a&&b._item.toggleGroup===c.toggleGroup&&this._markUnSelected(b,b._item)},this);this._toggleNode(a,c)}},_toggleNode:function(b,a){if("ON"===
a.toggleState){a.toggleState="OFF";if(a.src)b.src=a.src.toString();this.onUnSelect(a)}else{a.toggleState="ON";if(a.srcAlt)b.src=a.srcAlt;this.onSelect(a)}},_markSelected:function(b,a){a.toggleState="ON";if(a.srcAlt)b.src=a.srcAlt;this.onSelect(a)},_markUnSelected:function(b,a){if("ON"===a.toggleState){a.toggleState="OFF";if(a.src)b.src=a.src.toString();this.onUnSelect(a)}}})});