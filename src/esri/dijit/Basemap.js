//>>built
define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/request","esri/dijit/BasemapLayer"],function(d,e,c,j,f,g,h){return d(null,{declaredClass:"esri.dijit.Basemap",id:null,title:"",thumbnailUrl:null,layers:null,itemId:null,basemapGallery:null,constructor:function(a,i){a=a||{};!a.layers&&!a.itemId&&console.error("esri.dijit.Basemap: unable to find the 'layers' property in parameters");this.id=a.id;this.itemId=a.itemId;this.layers=a.layers;this.title=a.title||
"";this.thumbnailUrl=a.thumbnailUrl;this.basemapGallery=i},getLayers:function(){if(this.layers)return this.layers;if(this.itemId){var a=g({url:f.dijit._arcgisUrl+"/content/items/"+this.itemId+"/data",content:{f:"json"},callbackParamName:"callback",error:c.hitch(this,function(){if(this.basemapGallery)this.basemapGallery.onError("esri.dijit.Basemap: could not access basemap item.");else console.error("esri.dijit.Basemap: could not access basemap item.")})});a.addCallback(c.hitch(this,function(a){if(a.baseMap)return this.layers=
[],e.forEach(a.baseMap.baseMapLayers,function(a){var b={};if(a.url)b.url=a.url;if(a.type)b.type=a.type;if(a.isReference)b.isReference=a.isReference;if(a.displayLevels)b.displayLevels=a.displayLevels;if(a.visibleLayers)b.visibleLayers=a.visibleLayers;if(a.bandIds)b.bandIds=a.bandIds;this.layers.push(new h(b))},this),this.layers;if(this.basemapGallery)this.basemapGallery.onError("esri.dijit.Basemap: could not access basemap item.");else console.error("esri.dijit.Basemap: could not access basemap item.");
return[]}));return a}}})});