//>>built
define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/SpatialReference","esri/geometry/Geometry"],function(d,f,p,q,j,n,o){function g(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);var c=b*k;return[a*k*e,e/2*Math.log((1+Math.sin(c))/(1-Math.sin(c)))]}function h(a,b,c){a=a/e*i;c?(b=l/2-2*Math.atan(Math.exp(-1*b/e)),b=[a,b*i]):(c=a-360*Math.floor((a+180)/360),b=l/2-2*Math.atan(Math.exp(-1*b/e)),b=[c,b*i]);return b}var e=6378137,l=3.141592653589793,i=57.29577951308232,
k=0.017453292519943,m={type:"point",x:0,y:0},d=d(o,{declaredClass:"esri.geometry.Point",constructor:function(a,b,c){f.mixin(this,m);if(f.isArray(a))this.x=a[0],this.y=a[1],this.spatialReference=b;else if(f.isObject(a)){f.mixin(this,a);if(j.isDefined(this.latitude))this.y=this.latitude;if(j.isDefined(this.longitude))this.x=this.longitude;if(this.spatialReference)this.spatialReference=new n(this.spatialReference)}else this.x=a,this.y=b,this.spatialReference=c;this.verifySR()},offset:function(a,b){return new this.constructor(this.x+
a,this.y+b,this.spatialReference)},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setLongitude:function(a){var b=this.spatialReference;if(b)if(b._isWebMercator())this.x=g(a,this.y)[0];else if(4326===b.wkid)this.x=a;return this},setLatitude:function(a){var b=this.spatialReference;if(b)if(b._isWebMercator())this.y=g(this.x,a)[1];else if(4326===b.wkid)this.y=a;return this},getLongitude:function(){var a=this.spatialReference,b;if(a)if(a._isWebMercator())b=h(this.x,this.y)[0];
else if(4326===a.wkid)b=this.x;return b},getLatitude:function(){var a=this.spatialReference,b;if(a)if(a._isWebMercator())b=h(this.x,this.y)[1];else if(4326===a.wkid)b=this.y;return b},update:function(a,b){this.x=a;this.y=b;return this},normalize:function(){var a=this.x,b=this.spatialReference;if(b){var c=b._getInfo();if(c){var d=c.valid[0],e=c.valid[1],c=2*e;a>e?(d=Math.ceil(Math.abs(a-e)/c),a-=d*c):a<d&&(d=Math.ceil(Math.abs(a-d)/c),a+=d*c)}}return new this.constructor(a,this.y,b)},toJson:function(){var a=
{x:this.x,y:this.y},b=this.spatialReference;if(b)a.spatialReference=b.toJson();return a}});d.lngLatToXY=g;d.xyToLngLat=h;d.defaultProps=m;return d});