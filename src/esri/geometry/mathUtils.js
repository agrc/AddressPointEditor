//>>built
define(["dojo/_base/lang","dojo/has","esri/kernel","esri/geometry/Point"],function(q,r,s,n){function o(a,c,b){return a instanceof n?new n(a.x+b*(c.x-a.x),a.y+b*(c.y-a.y)):[a[0]+b*(c[0]-a[0]),a[1]+b*(c[1]-a[1])]}function g(a,c){return 1.0E-8>Math.abs(a-c)}function p(a,c,b,d){var e,f=g(a[0],c[0])?1E10:(a[1]-c[1])/(a[0]-c[0]);e=g(b[0],d[0])?1E10:(b[1]-d[1])/(b[0]-d[0]);var h=a[1]-f*a[0],l=b[1]-e*b[0];if(g(f,e)){if(g(h,l)){if(g(a[0],c[0]))if(Math.min(a[1],c[1])<Math.max(b[1],d[1])||Math.max(a[1],c[1])>
Math.min(b[1],d[1]))e=(a[1]+c[1]+b[1]+d[1]-Math.min(a[1],c[1],b[1],d[1])-Math.max(a[1],c[1],b[1],d[1]))/2,a=(e-h)/f;else return null;else if(Math.min(a[0],c[0])<Math.max(b[0],d[0])||Math.max(a[0],c[0])>Math.min(b[0],d[0]))a=(a[0]+c[0]+b[0]+d[0]-Math.min(a[0],c[0],b[0],d[0])-Math.max(a[0],c[0],b[0],d[0]))/2,e=f*a+h;else return null;return[a,e]}return null}g(f,1E10)?(a=a[0],e=e*a+l):(a=g(e,1E10)?b[0]:-(h-l)/(f-e),e=f*a+h);return[a,e]}return{getLength:function(a,c){var b=c.x-a.x,d=c.y-a.y;return Math.sqrt(b*
b+d*d)},_getLength:function(a,c){var b=c[0]-a[0],d=c[1]-a[1];return Math.sqrt(b*b+d*d)},getPointOnLine:o,getMidpoint:function(a,c){return o(a,c,0.5)},_equals:g,_getLineIntersection:p,getLineIntersection:function(a,c,b,d,e){(a=p([a.x,a.y],[c.x,c.y],[b.x,b.y],[d.x,d.y]))&&(a=new n(a[0],a[1],e));return a},_getLineIntersection2:function(a,c){var b=a[0],d=a[1],e=c[0],f=c[1],h=b[0],b=b[1],l=d[0],d=d[1],i=e[0],j=e[1],e=f[0]-i,i=h-i,g=l-h,f=f[1]-j,j=b-j,k=d-b,m=f*g-e*k;if(0===m)return!1;e=(e*j-f*i)/m;i=(g*
j-k*i)/m;return 0<=e&&1>=e&&0<=i&&1>=i?[h+e*(l-h),b+e*(d-b)]:!1},_pointLineDistance:function(a,c){var b=c[0],d=c[1],e=b[0],f=b[1],b=a[0],h=a[1],g=d[0]-e,i=d[1]-f,j=b-e,n=h-f,d=Math.sqrt,k=Math.pow,m=d(k(g,2)+k(i,2)),j=(j*g+n*i)/(m*m),f=f+j*i;return d(k(b-(e+j*g),2)+k(h-f,2))}}});