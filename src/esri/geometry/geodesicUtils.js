//>>built
define(["dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/SpatialReference","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon"],function(o,B,C,D,A,q,v,y){function r(a){var m=Math.PI/180,b=Math.sin(a.y*m),b=0.9933056200098026*(b/(1-0.006694379990197414*b*b)-6.111035746609262*Math.log((1-0.0818191908429643*b)/(1+0.0818191908429643*b)));return new q(6378137*a.x*m,3189068.5*b)}function u(a,m,b,d){for(var h=1/298.257223563,g=Math.sin(b),b=Math.cos(b),a=(1-h)*Math.tan(a),
n=1/Math.sqrt(1+a*a),f=a*n,e=Math.atan2(a,b),a=n*g,i=1-a*a,c=2.7233160610754688E11*i/4.040829998466145E13,t=1+c/16384*(4096+c*(-768+c*(320-175*c))),p=c/1024*(256+c*(-128+c*(74-47*c))),c=d/(6356752.31424518*t),s=2*Math.PI,k,j,l;1.0E-12<Math.abs(c-s);){l=Math.cos(2*e+c);k=Math.sin(c);j=Math.cos(c);var o=p*k*(l+p/4*(j*(-1+2*l*l)-p/6*l*(-3+4*k*k)*(-3+4*l*l))),s=c,c=d/(6356752.31424518*t)+o}d=f*k-n*j*b;d=Math.atan2(f*j+n*k*b,(1-h)*Math.sqrt(a*a+d*d));g=Math.atan2(k*g,n*j-f*k*b);b=h/16*i*(4+h*(4-3*i));
return new q((m+(g-(1-b)*h*a*(c+b*k*(l+b*j*(-1+2*l*l)))))/(Math.PI/180),d/(Math.PI/180),new A({wkid:4326}))}function w(a,m,b,d){var h=1/298.257223563,g=d-m,n=Math.atan((1-h)*Math.tan(a)),f=Math.atan((1-h)*Math.tan(b)),e=Math.sin(n),n=Math.cos(n),i=Math.sin(f),f=Math.cos(f),c=g,t,p=1E3,s,k,j,l,o;do{j=Math.sin(c);l=Math.cos(c);k=Math.sqrt(f*j*f*j+(n*i-e*f*l)*(n*i-e*f*l));if(0===k)return 0;l=e*i+n*f*l;o=Math.atan2(k,l);var q=n*f*j/k;s=1-q*q;j=l-2*e*i/s;isNaN(j)&&(j=0);var r=h/16*s*(4+h*(4-3*s));t=c;
c=g+(1-r)*h*q*(o+r*k*(j+r*l*(-1+2*j*j)))}while(1.0E-12<Math.abs(c-t)&&0<--p);if(0===p)return e=6371009*Math.acos(Math.sin(a)*Math.sin(b)+Math.cos(a)*Math.cos(b)*Math.cos(d-m)),i=d-m,n=Math.sin(i)*Math.cos(b),a=Math.cos(a)*Math.sin(b)-Math.sin(a)*Math.cos(b)*Math.cos(i),{azimuth:Math.atan2(n,a),geodesicDistance:e};a=2.7233160610754688E11*s/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));a=6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(o-b*k*(j+b/4*(l*(-1+2*j*j)-b/6*j*(-3+4*k*
k)*(-3+4*j*j))));b=Math.atan2(f*Math.sin(c),n*i-e*f*Math.cos(c));e=Math.atan2(n*Math.sin(c),n*i*Math.cos(c)-e*f);return{azimuth:b,geodesicDistance:a,reverseAzimuth:e}}function z(a,m){var b=Math.PI/180;637.100877151506>m&&(m=637.100877151506);if(!(a instanceof v||a instanceof y))throw console.error("_geodesicDensify: the input geometry is neither polyline nor polygon"),Error("_geodesicDensify: the input geometry is neither polyline nor polygon");var d=a instanceof v,h=[],g;o.forEach(d?a.paths:a.rings,
function(a){h.push(g=[]);g.push([a[0][0],a[0][1]]);var f,e,i,c,d,p;f=a[0][0]*b;e=a[0][1]*b;for(d=0;d<a.length-1;d++){i=a[d+1][0]*b;c=a[d+1][1]*b;c=w(e,f,c,i);i=c.azimuth;c=c.geodesicDistance;var o=c/m;if(1<o){for(p=1;p<=o-1;p++){var k=u(e,f,i,p*m);g.push([k.x,k.y])}p=u(e,f,i,(c+Math.floor(o-1)*m)/2);g.push([p.x,p.y])}e=u(e,f,i,c);g.push([e.x,e.y]);f=e.x*b;e=e.y*b}});return d?new v({paths:h,spatialReference:a.spatialReference}):new y({rings:h,spatialReference:a.spatialReference})}var x={esriMiles:1,
esriKilometers:1.609344,esriFeet:5280,esriMeters:1609.34,esriYards:1760,esriNauticalMiles:0.869,esriCentimeters:160934,esriDecimeters:16093.4,esriInches:63360,esriMillimeters:1609340,esriAcres:1,esriAres:40.4685642,esriSquareKilometers:0.00404685642,esriSquareMiles:0.0015625,esriSquareFeet:43560,esriSquareMeters:4046.85642,esriHectares:0.404685642,esriSquareYards:4840,esriSquareInches:6272640,esriSquareMillimeters:4046856420,esriSquareCentimeters:4.04685642E7,esriSquareDecimeters:404685.642};return{geodesicDensify:z,
geodesicLengths:function(a,m){var b=Math.PI/180,d=[];o.forEach(a,function(a){var g=0;o.forEach(a.paths,function(a){var f=0,e,i,c,d,h;for(e=1;e<a.length;e++)i=a[e-1][0]*b,c=a[e][0]*b,d=a[e-1][1]*b,h=a[e][1]*b,i=w(d,i,h,c),f+=i.geodesicDistance/1609.344;g+=f});g*=x[m];d.push(g)});return d},geodesicAreas:function(a,m){var b=[];o.forEach(a,function(a){a=z(a,1E4);b.push(a)});var d=[],h,g;o.forEach(b,function(a){var b=0;o.forEach(a.rings,function(a){h=r(new q(a[0][0],a[0][1]));g=r(new q(a[a.length-1][0],
a[a.length-1][1]));var d=g.x*h.y-h.x*g.y,c;for(c=0;c<a.length-1;c++)h=r(new q(a[c+1][0],a[c+1][1])),g=r(new q(a[c][0],a[c][1])),d+=g.x*h.y-h.x*g.y;b+=d/4046.87});b*=x[m];d.push(b/-2)});return d},_unitsDictionary:x,_toEqualAreaPoint:r,_directGeodeticSolver:u,_inverseGeodeticSolver:w}});