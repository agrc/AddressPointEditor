//>>built
define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/SpatialReference","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/Extent"],function(e,h,f,z,A,w,x,y,g,s){var v={type:"polyline",paths:null},e=e(y,{declaredClass:"esri.geometry.Polyline",constructor:function(a){f.mixin(this,v);this.paths=[];this._path=0;if(a&&(a.paths?f.mixin(this,a):this.spatialReference=a,this.spatialReference))this.spatialReference=new x(this.spatialReference);this.verifySR()},
_extent:null,addPath:function(a){this._extent=null;this._path=this.paths.length;this.paths[this._path]=[];f.isArray(a[0])?h.forEach(a,this._addPointArr,this):h.forEach(a,this._addPoint,this);return this},_addPointArr:function(a){this.paths[this._path].push(a)},_addPoint:function(a){this.paths[this._path].push([a.x,a.y])},_insertPoints:function(a,b){this._extent=null;this._path=b;this.paths[this._path]||(this.paths[this._path]=[]);h.forEach(a,this._addPoint,this)},_validateInputs:function(a,b){return null!==
a&&void 0!==a&&(0>a||a>=this.paths.length)||null!==b&&void 0!==a&&(0>b||b>=this.paths[a].length)?!1:!0},getPoint:function(a,b){if(this._validateInputs(a,b))return new g(this.paths[a][b],this.spatialReference)},setPoint:function(a,b,c){if(this._validateInputs(a,b))return this._extent=null,this.paths[a][b]=[c.x,c.y],this},insertPoint:function(a,b,c){if(this._validateInputs(a)&&w.isDefined(b)&&0<=b&&b<=this.paths[a].length)return this._extent=null,this.paths[a].splice(b,0,[c.x,c.y]),this},removePath:function(a){if(this._validateInputs(a,
null)){this._extent=null;var a=this.paths.splice(a,1)[0],b,c=a.length,d=this.spatialReference;for(b=0;b<c;b++)a[b]=new g(a[b],d);return a}},removePoint:function(a,b){if(this._validateInputs(a,b))return this._extent=null,new g(this.paths[a].splice(b,1)[0],this.spatialReference)},getExtent:function(){var a;if(this._extent)return a=new s(this._extent),a._partwise=this._partwise,a;a=this.paths;var b=a.length;if(b&&a[0].length){var c,d,i,e,f,j,k,h,g=e=a[0][0][0],t=f=a[0][0][1],l=Math.min,m=Math.max,n=
this.spatialReference,u=[],o,p,q,r;for(j=0;j<b;j++){c=a[j];o=p=c[0]&&c[0][0];q=r=c[0]&&c[0][1];h=c.length;for(k=0;k<h;k++)d=c[k],i=d[0],d=d[1],g=l(g,i),t=l(t,d),e=m(e,i),f=m(f,d),o=l(o,i),q=l(q,d),p=m(p,i),r=m(r,d);u.push(new s({xmin:o,ymin:q,xmax:p,ymax:r,spatialReference:n?n.toJson():null}))}this._extent={xmin:g,ymin:t,xmax:e,ymax:f,spatialReference:n?n.toJson():null};this._partwise=1<u.length?u:null;a=new s(this._extent);a._partwise=this._partwise;return a}},toJson:function(){var a={paths:f.clone(this.paths)},
b=this.spatialReference;if(b)a.spatialReference=b.toJson();return a}});e.defaultProps=v;return e});