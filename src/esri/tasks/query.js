//>>built
define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/has","esri/kernel","esri/geometry/jsonUtils","esri/tasks/SpatialRelationship","require","require","require"],function(l,m,n,c,q,r,o,p){var d=l(null,{declaredClass:"esri.tasks.Query",constructor:function(){this.spatialRelationship=d.SPATIAL_REL_INTERSECTS},text:null,where:"",geometry:null,groupByFieldsForStatistics:null,objectIds:null,returnGeometry:!1,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,
timeExtent:null,relationParam:null,pixelSize:null,toJson:function(a){var b={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:this.spatialRelationship,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision},a=a&&a.geometry||this.geometry,f=this.objectIds,g=this.outFields,e=this.outSpatialReference,h=this.groupByFieldsForStatistics,i=this.orderByFields,j=this.outStatistics;if(a)b.geometry=a,b.geometryType=o.getJsonType(a),b.inSR=a.spatialReference.wkid||
c.toJson(a.spatialReference.toJson());if(f)b.objectIds=f.join(",");if(g)b.outFields=g.join(",");if(h)b.groupByFieldsForStatistics=h.join(",");if(i)b.orderByFields=i.join(",");if(j){var k=[];n.forEach(j,function(a){k.push(a.toJson())});b.outStatistics=c.toJson(k)}if(null!==e)b.outSR=e.wkid||c.toJson(e.toJson());else if(a)b.outSR=a.spatialReference.wkid||c.toJson(a.spatialReference.toJson());a=this.timeExtent;b.time=a?a.toJson().join(","):null;if((a=this.relationParam)&&this.spatialRelationship===d.SPATIAL_REL_RELATION)b.relationParam=
a;b.pixelSize=this.pixelSize?c.toJson(this.pixelSize.toJson()):null;b._ts=this._ts;return b}});m.mixin(d,p);return d});